---
title: 计网学习笔记-3.md
date: 2025-10-22 16:37:41
categories: 计网
description: 《计算机网络——自顶向下方法》第三章学习笔记。
tags: [计算机网络, 运输层]
---
# 运输层
## 运输层概述
运输层协议为运行在不同主机上的应用进程之间提供了**逻辑通信**功能，使它们能够透明地交换报文，而无需关心底层通信的复杂细节。运输层协议在主机上实现：在发送端，运输层将从发送应用进程接收到的报文封装成运输层分组，称为**报文段**，随后，这些报文段被传递给网络层。网络层为其添加网络层首部得到数据报，并负责将其发送至目的地。在接收端，网络层从数据报中提取运输层报文段，并且上交给运输层。运输层则处理接收到的报文段，使得数据可以被接收的应用进程使用。

### 运输层和网络层
网络层提供了**主机间**的逻辑通信，而运输层则为运行在不同主机上的**进程**提供了逻辑通信。在整个数据传输过程中，网络中的路由器仅处理网络层的首部信息，对运输层报文段的内容既不检查也不修改，完全透明地转发。

计算机网络中可以支持多种运输层协议，每种协议为上层应用提供不同的服务模型。虽然运输层所能提供的服务在一定程度上受限于底层网络层的服务能力，但它并非完全被动依赖。例如，即使底层网络协议是不可靠的，或者说可能出现分组丢失、乱序甚至内容损坏等情况，运输层仍可通过自身机制（如确认、重传、校验等）向上层提供可靠的数据传输服务。同样，尽管运输层通常无法保证通信的机密性（这通常由应用层或安全协议如 TLS 处理），但它可以通过差错检查机制在一定程度上防止报文在传输过程中被未授权方窃取或篡改。因此，运输层在弥补网络层不足、提升通信质量方面发挥着关键作用。

### 因特网运输层
如前所述，运输层有两种协议：TCP 和 UDP。为了理解为什么它们会有区别，我们有必要先了解一些网络层的基础知识，尤其是关于 IP 地址更深入的一些内容。事实上，IP 协议是网络层的核心协议之一，它为主机之间提供了逻辑通信。IP 协议是尽力而为交付协议，这意味着它不确保报文段的交付，也不确保顺序和完整性。正因如此，IP 协议被视为一种不可靠的服务。每台主机至少有一个网络层地址，即 IP 地址。我们将在 4、5 章中更加详细地了解 IP 地址的相关内容。

TCP 和 UDP 最基本的责任是将两台主机间 IP 的交付服务扩展为运行在两台主机上的两个进程间的交付服务，这被称作运输层的**多路复用**与**多路分解**。TCP 和 UDP 还可以通过在其报文段首部中包括差错检查字段来提供完整性检查。进程到进程的数据交付和差错检查是两种最低限度的运输层服务，也是 UDP 所能提供的仅有的两种服务。另外，与 IP 一样，UDP 也是不可靠的服务。虽然其包含差错检查机制，但它不会重传，也不确认，更不保证顺序或完整性。因此，尽管 UDP 有差错检查能力，它仍然被归类为不可靠的传输协议。